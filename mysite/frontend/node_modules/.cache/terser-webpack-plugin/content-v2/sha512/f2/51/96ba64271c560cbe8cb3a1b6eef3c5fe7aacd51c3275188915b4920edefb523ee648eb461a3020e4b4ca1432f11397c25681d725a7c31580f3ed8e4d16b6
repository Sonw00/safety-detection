{"code":"(this[\"webpackJsonpmy-react-app\"]=this[\"webpackJsonpmy-react-app\"]||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){\"use strict\";a.r(t);var n=a(1),s=a.n(n),c=a(16),r=a.n(c),o=a(14),i=a(4),l=a(43),d=a(21),j=a(19),p=a.n(j),b=a(5);var u=()=>{const[e,t]=Object(n.useState)(!1),[a,s]=Object(n.useState)(null),[c,r]=Object(n.useState)(null),[o,j]=Object(n.useState)([]),[u,h]=Object(n.useState)([]),x=Object(i.p)();Object(n.useEffect)((()=>{(async()=>{try{const e=await l.a.get(\"/api/check_login/\");if(t(e.data.is_logged_in),e.data.is_logged_in){const e=await l.a.get(\"/api/user_info/\");console.log(\"User Info:\",e.data),r(e.data),g(),m(),O(),y()}}catch(e){console.error(\"\\ub85c\\uadf8\\uc778 \\uc0c1\\ud0dc \\ud655\\uc778 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}})(),(async()=>{try{const e=await l.a.get(\"/api/csrf_token/\");s(e.data.csrfToken)}catch(e){console.error(\"CSRF \\ud1a0\\ud070\\uc744 \\uac00\\uc838\\uc624\\ub294 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}})();const a=setInterval((()=>{e&&(O(),y())}),6e5);return()=>clearInterval(a)}),[e]);const g=async()=>{try{const e=await l.a.get(\"/api/get_status/\");j(e.data.statuses),v(e.data.statuses)}catch(e){console.error(\"\\uc0ac\\uc6a9\\uc790 \\uc0c1\\ud0dc\\ub97c \\uac00\\uc838\\uc624\\ub294 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}},O=async()=>{try{await l.a.post(\"/api/update_status/\",{},{headers:{\"X-CSRFToken\":a||\"\"}});g()}catch(e){console.error(\"\\uc0ac\\uc6a9\\uc790 \\uc0c1\\ud0dc\\ub97c \\uac31\\uc2e0\\ud558\\ub294 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}},m=async()=>{try{const e=await l.a.get(\"/api/get_posture/\");h(e.data.postures),f(e.data.postures)}catch(e){console.error(\"\\uc0ac\\uc6a9\\uc790 \\uc790\\uc138\\ub97c \\uac00\\uc838\\uc624\\ub294 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}},y=async()=>{try{await l.a.post(\"/api/update_posture/\",{},{headers:{\"X-CSRFToken\":a||\"\"}});m()}catch(e){console.error(\"\\uc0ac\\uc6a9\\uc790 \\uc790\\uc138\\ub97c \\uac31\\uc2e0\\ud558\\ub294 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}},v=e=>{const t=document.getElementById(\"main\");if(!t)return;const a=d.a(t),n={title:{text:\"User Status Over Time\"},tooltip:{trigger:\"axis\",formatter:e=>{const t=1===e[0].data[1]?\"\\uc815\\uc0c1\":2===e[0].data[1]?\"\\uc8fc\\uc758\":\"\\uc704\\ud5d8\";return\"\".concat(e[0].data[0],\"<br/>\\uc0c1\\ud0dc: \").concat(t)}},xAxis:{type:\"category\",data:e.map((e=>p()(e.updated_at).format(\"MM-DD HH:mm:ss\")))},yAxis:{type:\"value\"},series:[{data:e.map((e=>[p()(e.updated_at).format(\"MM-DD HH:mm:ss\"),e.status])),type:\"line\",lineStyle:{color:\"#5470C6\"},itemStyle:{color:e=>1===e.data[1]?\"green\":2===e.data[1]?\"yellow\":\"red\",borderWidth:2},symbolSize:10,symbol:\"circle\"}]};a.setOption(n)},f=e=>{const t=document.getElementById(\"posture\");if(!t)return;const a=d.a(t),n=[\"Downstair\",\"Upstair\",\"Running\",\"Sitdown\",\"StandUp\",\"Walking\",\"Fall\"],s={tooltip:{trigger:\"axis\",axisPointer:{type:\"shadow\"},formatter:e=>{const t=e[0].data[1];return\"\".concat(e[0].data[0],\"<br/>\\uc790\\uc138: \").concat([\"Downstair\",\"Upstair\",\"Running\",\"Sitdown\",\"StandUp\",\"Walking\",\"Fall\"][t])}},legend:{},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:{type:\"category\",data:e.map((e=>p()(e.updated_at).format(\"MM-DD HH:mm:ss\")))},yAxis:{type:\"category\",data:[\"Posture\"]},series:[{name:\"Posture\",type:\"bar\",stack:\"total\",label:{show:!0},emphasis:{focus:\"series\"},data:e.map((e=>({value:1,itemStyle:{color:6===e.posture?\"red\":5===e.posture?\"blue\":4===e.posture?\"green\":3===e.posture?\"yellow\":2===e.posture?\"orange\":1===e.posture?\"purple\":\"gray\"},name:n[e.posture]})))}]};a.setOption(s)};return Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\",padding:\"10px\"},children:e?Object(b.jsx)(\"button\",{onClick:async()=>{try{await l.a.post(\"/api/logout/\",{},{headers:{\"X-CSRFToken\":a||\"\"}}),t(!1),x(\"/login\")}catch(e){console.error(\"\\ub85c\\uadf8\\uc544\\uc6c3 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}},style:{marginLeft:\"10px\"},children:\"Logout\"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(\"button\",{onClick:()=>x(\"/login\"),style:{marginLeft:\"10px\"},children:\"Login\"}),Object(b.jsx)(\"button\",{onClick:()=>x(\"/register\"),style:{marginLeft:\"10px\"},children:\"Register\"})]})}),Object(b.jsx)(\"div\",{style:{textAlign:\"center\",marginTop:\"20px\"},children:e&&c?Object(b.jsxs)(\"h1\",{children:[c.name,\"\\ub2d8 (\",c.age,\"\\uc138), \\ud604\\uc7ac \\uc6f9\\uc5d0 \\uc811\\uc18d\\ud558\\uc168\\uc2b5\\ub2c8\\ub2e4!\"]}):Object(b.jsx)(\"h1\",{children:\"Welcome to the Main Page\"})}),Object(b.jsx)(\"div\",{id:\"main\",style:{width:\"100%\",height:\"400px\"}}),Object(b.jsx)(\"div\",{id:\"posture\",style:{width:\"100%\",height:\"400px\",marginTop:\"20px\"}})]})},h=a(11);var x=()=>{const[e,t]=Object(n.useState)(null),[a,s]=Object(n.useState)({id:\"\",password:\"\",name:\"\",age:\"\",address:\"\",detailed_address:\"\",phone_num:\"\",guard_name:\"\",guard_phone_num:\"\"}),[c,r]=Object(n.useState)([]),[o,d]=Object(n.useState)(!1),j=Object(i.p)();Object(n.useEffect)((()=>{(async()=>{const e=await l.a.get(\"/api/csrf_token/\");t(e.data.csrfToken)})()}),[]);const p=e=>{s(Object(h.a)(Object(h.a)({},a),{},{[e.target.name]:e.target.value})),\"id\"===e.target.name&&d(!1)};return Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"button\",{onClick:()=>j(-1),children:\"Back\"}),\" \",Object(b.jsx)(\"h1\",{children:\"\\ud68c\\uc6d0\\uac00\\uc785\"}),Object(b.jsxs)(\"form\",{onSubmit:async t=>{if(t.preventDefault(),r([]),o)try{const t=await l.a.post(\"/api/signup/\",a,{headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":e||\"\"}});console.log(\"\\ud68c\\uc6d0\\uac00\\uc785 \\uc131\\uacf5:\",t.data),j(\"/login\")}catch(n){n.response&&n.response.data?r([n.response.data.message]):r([\"\\ud68c\\uc6d0\\uac00\\uc785 \\uc911 \\uc624\\ub958\\uac00 \\ubc1c\\uc0dd\\ud588\\uc2b5\\ub2c8\\ub2e4.\"])}else r([\"ID \\uc911\\ubcf5 \\uac80\\uc0ac\\ub97c \\uc644\\ub8cc\\ud574\\uc8fc\\uc138\\uc694.\"])},children:[Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"ID:\"}),Object(b.jsx)(\"input\",{type:\"text\",name:\"id\",value:a.id,onChange:p}),Object(b.jsx)(\"button\",{type:\"button\",onClick:async()=>{try{(await l.a.post(\"/api/check_id/\",{id:a.id},{headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":e||\"\"}})).data.isAvailable?(alert(\"\\uc0ac\\uc6a9 \\uac00\\ub2a5\\ud55c ID\\uc785\\ub2c8\\ub2e4.\"),d(!0)):(alert(\"\\uc774\\ubbf8 \\uc0ac\\uc6a9 \\uc911\\uc778 ID\\uc785\\ub2c8\\ub2e4.\"),d(!1))}catch(t){console.error(\"ID \\uc911\\ubcf5 \\uac80\\uc0ac \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",t),d(!1)}},children:\"\\uc911\\ubcf5 \\uac80\\uc0ac\"})]}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"Password:\"}),Object(b.jsx)(\"input\",{type:\"password\",name:\"password\",value:a.password,onChange:p})]}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"Name:\"}),Object(b.jsx)(\"input\",{type:\"text\",name:\"name\",value:a.name,onChange:p})]}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"Age:\"}),Object(b.jsx)(\"input\",{type:\"text\",name:\"age\",value:a.age,onChange:p})]}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"Address:\"}),Object(b.jsx)(\"input\",{type:\"text\",name:\"address\",value:a.address,onChange:p})]}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"Detailed Address:\"}),Object(b.jsx)(\"input\",{type:\"text\",name:\"detailed_address\",value:a.detailed_address,onChange:p})]}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"Phone Number:\"}),Object(b.jsx)(\"input\",{type:\"text\",name:\"phone_num\",value:a.phone_num,onChange:p})]}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"Guard Name:\"}),Object(b.jsx)(\"input\",{type:\"text\",name:\"guard_name\",value:a.guard_name,onChange:p})]}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"Guard Phone Number:\"}),Object(b.jsx)(\"input\",{type:\"text\",name:\"guard_phone_num\",value:a.guard_phone_num,onChange:p})]}),Object(b.jsx)(\"button\",{type:\"submit\",children:\"\\ub4f1\\ub85d\"}),Object(b.jsx)(\"button\",{type:\"button\",onClick:()=>j(\"/login\"),children:\"\\ub85c\\uadf8\\uc778\"})]}),c.length>0&&Object(b.jsx)(\"div\",{style:{color:\"red\"},children:c.map(((e,t)=>Object(b.jsx)(\"p\",{children:e},t)))})]})};var g=()=>{const[e,t]=Object(n.useState)(null),[a,s]=Object(n.useState)(\"\"),[c,r]=Object(n.useState)(\"\"),o=Object(i.p)();Object(n.useEffect)((()=>{(async()=>{try{const e=await l.a.get(\"/api/csrf_token/\");t(e.data.csrfToken)}catch(e){console.error(\"CSRF \\ud1a0\\ud070\\uc744 \\uac00\\uc838\\uc624\\ub294 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}})()}),[]);return Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"button\",{onClick:()=>o(-1),children:\"Back\"}),\" \",Object(b.jsx)(\"h1\",{children:\"Login\"}),Object(b.jsxs)(\"form\",{onSubmit:async t=>{t.preventDefault();try{const t=await l.a.post(\"/api/login/\",{id:a,password:c},{headers:{\"X-CSRFToken\":e||\"\"}});console.log(\"\\ub85c\\uadf8\\uc778 \\uc131\\uacf5:\",t.data),window.location.href=\"/\"}catch(n){console.error(\"\\ub85c\\uadf8\\uc778 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",n)}},children:[Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"ID:\"}),Object(b.jsx)(\"input\",{type:\"text\",value:a,onChange:e=>s(e.target.value)})]}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"label\",{children:\"Password:\"}),Object(b.jsx)(\"input\",{type:\"password\",value:c,onChange:e=>r(e.target.value)})]}),Object(b.jsx)(\"button\",{type:\"submit\",children:\"\\ub85c\\uadf8\\uc778\"}),Object(b.jsx)(\"button\",{type:\"button\",onClick:()=>o(\"/register\"),children:\"\\ud68c\\uc6d0\\uac00\\uc785\"})]})]})};var O=()=>Object(b.jsx)(o.a,{children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:\"/\",element:Object(b.jsx)(u,{})}),Object(b.jsx)(i.a,{path:\"/register\",element:Object(b.jsx)(x,{})}),Object(b.jsx)(i.a,{path:\"/login\",element:Object(b.jsx)(g,{})})]})});a(37);r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById(\"root\"))}},[[38,1,2]]]);","name":"static/js/main.7d766386.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","dist","react_router_dist","axios","echarts","dayjs_min","dayjs_min_default","jsx_runtime","components_Main","isLoggedIn","setIsLoggedIn","Object","csrfToken","setCsrfToken","userInfo","setUserInfo","statuses","setStatuses","postures","setPostures","navigate","async","response","get","data","is_logged_in","userResponse","console","log","fetchUserStatus","fetchUserPosture","updateUserStatus","updateUserPosture","error","checkLoginStatus","fetchCsrfToken","interval","setInterval","clearInterval","renderStatusChart","post","headers","renderPostureChart","chartDom","document","getElementById","myChart","option","title","text","tooltip","trigger","formatter","params","statusText","concat","xAxis","type","map","item","updated_at","format","yAxis","series","status","lineStyle","color","itemStyle","borderWidth","symbolSize","symbol","setOption","postureText","axisPointer","posture","legend","grid","left","right","bottom","containLabel","name","stack","label","show","emphasis","focus","value","children","style","display","justifyContent","padding","onClick","marginLeft","textAlign","marginTop","age","id","width","height","objectSpread2","components_Register","formData","setFormData","password","address","detailed_address","phone_num","guard_name","guard_phone_num","errors","setErrors","isIdChecked","setIsIdChecked","handleChange","e","target","onSubmit","preventDefault","message","onChange","isAvailable","alert","length","index","components_Login","setId","setPassword","event","window","location","href","src_App","path","element","a","render","StrictMode"],"sources":["static/js/main.7d766386.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpmy-react-app\"] = this[\"webpackJsonpmy-react-app\"] || []).push([[0],{\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(16);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/axios/lib/axios.js + 48 modules\nvar axios = __webpack_require__(43);\n\n// EXTERNAL MODULE: ../node_modules/echarts/index.js + 536 modules\nvar echarts = __webpack_require__(21);\n\n// EXTERNAL MODULE: ../node_modules/dayjs/dayjs.min.js\nvar dayjs_min = __webpack_require__(19);\nvar dayjs_min_default = /*#__PURE__*/__webpack_require__.n(dayjs_min);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/components/Main.tsx\nconst Main=()=>{const[isLoggedIn,setIsLoggedIn]=Object(react[\"useState\"])(false);const[csrfToken,setCsrfToken]=Object(react[\"useState\"])(null);const[userInfo,setUserInfo]=Object(react[\"useState\"])(null);const[statuses,setStatuses]=Object(react[\"useState\"])([]);const[postures,setPostures]=Object(react[\"useState\"])([]);const navigate=Object(react_router_dist[\"p\" /* useNavigate */])();Object(react[\"useEffect\"])(()=>{// 로그인 상태 확인\nconst checkLoginStatus=async()=>{try{const response=await axios[\"a\" /* default */].get('/api/check_login/');setIsLoggedIn(response.data.is_logged_in);if(response.data.is_logged_in){const userResponse=await axios[\"a\" /* default */].get('/api/user_info/');console.log('User Info:',userResponse.data);// 응답 데이터 출력\nsetUserInfo(userResponse.data);fetchUserStatus();fetchUserPosture();updateUserStatus();// 로그인 직후 사용자 상태 갱신\nupdateUserPosture();// 로그인 직후 사용자 자세 갱신\n}}catch(error){console.error('로그인 상태 확인 중 오류 발생:',error);}};// CSRF 토큰을 가져오는 함수\nconst fetchCsrfToken=async()=>{try{const response=await axios[\"a\" /* default */].get('/api/csrf_token/');setCsrfToken(response.data.csrfToken);}catch(error){console.error('CSRF 토큰을 가져오는 중 오류 발생:',error);}};checkLoginStatus();fetchCsrfToken();// 10분 간격으로 사용자 상태 갱신\nconst interval=setInterval(()=>{if(isLoggedIn){updateUserStatus();updateUserPosture();}},10*60*1000);return()=>clearInterval(interval);},[isLoggedIn]);const fetchUserStatus=async()=>{try{const response=await axios[\"a\" /* default */].get('/api/get_status/');setStatuses(response.data.statuses);renderStatusChart(response.data.statuses);}catch(error){console.error('사용자 상태를 가져오는 중 오류 발생:',error);}};const updateUserStatus=async()=>{try{const response=await axios[\"a\" /* default */].post('/api/update_status/',{},{headers:{'X-CSRFToken':csrfToken||''}});fetchUserStatus();}catch(error){console.error('사용자 상태를 갱신하는 중 오류 발생:',error);}};const fetchUserPosture=async()=>{try{const response=await axios[\"a\" /* default */].get('/api/get_posture/');setPostures(response.data.postures);renderPostureChart(response.data.postures);}catch(error){console.error('사용자 자세를 가져오는 중 오류 발생:',error);}};const updateUserPosture=async()=>{try{const response=await axios[\"a\" /* default */].post('/api/update_posture/',{},{headers:{'X-CSRFToken':csrfToken||''}});fetchUserPosture();}catch(error){console.error('사용자 자세를 갱신하는 중 오류 발생:',error);}};const handleLogout=async()=>{try{await axios[\"a\" /* default */].post('/api/logout/',{},{headers:{'X-CSRFToken':csrfToken||''}});setIsLoggedIn(false);navigate('/login');}catch(error){console.error('로그아웃 중 오류 발생:',error);}};const renderStatusChart=data=>{const chartDom=document.getElementById('main');if(!chartDom)return;const myChart=echarts[\"a\" /* init */](chartDom);const option={title:{text:'User Status Over Time'},tooltip:{trigger:'axis',formatter:params=>{const statusText=params[0].data[1]===1?'정상':params[0].data[1]===2?'주의':'위험';return\"\".concat(params[0].data[0],\"<br/>\\uC0C1\\uD0DC: \").concat(statusText);}},xAxis:{type:'category',data:data.map(item=>dayjs_min_default()(item.updated_at).format('MM-DD HH:mm:ss'))},yAxis:{type:'value'},series:[{data:data.map(item=>[dayjs_min_default()(item.updated_at).format('MM-DD HH:mm:ss'),item.status]),type:'line',lineStyle:{color:'#5470C6'// 라인 색깔\n},itemStyle:{color:params=>{if(params.data[1]===1)return'green';// 점의 색깔을 초록색으로 변경\nif(params.data[1]===2)return'yellow';return'red';},borderWidth:2},symbolSize:10,symbol:'circle'// 점의 모양을 원으로 설정\n}]};myChart.setOption(option);};const renderPostureChart=data=>{const chartDom=document.getElementById('posture');if(!chartDom)return;const myChart=echarts[\"a\" /* init */](chartDom);const postureText=['Downstair','Upstair','Running','Sitdown','StandUp','Walking','Fall'];const option={tooltip:{trigger:'axis',axisPointer:{type:'shadow'},formatter:params=>{const postureText=['Downstair','Upstair','Running','Sitdown','StandUp','Walking','Fall'];const posture=params[0].data[1];return\"\".concat(params[0].data[0],\"<br/>\\uC790\\uC138: \").concat(postureText[posture]);}},legend:{},grid:{left:'3%',right:'4%',bottom:'3%',containLabel:true},xAxis:{type:'category',data:data.map(item=>dayjs_min_default()(item.updated_at).format('MM-DD HH:mm:ss'))},yAxis:{type:'category',data:['Posture']},series:[{name:'Posture',type:'bar',stack:'total',label:{show:true},emphasis:{focus:'series'},data:data.map(item=>({value:1,itemStyle:{color:item.posture===6?'red':item.posture===5?'blue':item.posture===4?'green':item.posture===3?'yellow':item.posture===2?'orange':item.posture===1?'purple':'gray'},name:postureText[item.posture]}))}]};myChart.setOption(option);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',justifyContent:'flex-end',padding:'10px'},children:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleLogout,style:{marginLeft:'10px'},children:\"Logout\"}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>navigate('/login'),style:{marginLeft:'10px'},children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>navigate('/register'),style:{marginLeft:'10px'},children:\"Register\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{textAlign:'center',marginTop:'20px'},children:isLoggedIn&&userInfo?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[userInfo.name,\"\\uB2D8 (\",userInfo.age,\"\\uC138), \\uD604\\uC7AC \\uC6F9\\uC5D0 \\uC811\\uC18D\\uD558\\uC168\\uC2B5\\uB2C8\\uB2E4!\"]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Welcome to the Main Page\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"main\",style:{width:'100%',height:'400px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"posture\",style:{width:'100%',height:'400px',marginTop:'20px'}})]});};/* harmony default export */ var components_Main = (Main);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/components/Register.tsx\nconst Register=()=>{const[csrfToken,setCsrfToken]=Object(react[\"useState\"])(null);const[formData,setFormData]=Object(react[\"useState\"])({id:'',password:'',name:'',age:'',address:'',detailed_address:'',phone_num:'',guard_name:'',guard_phone_num:''});const[errors,setErrors]=Object(react[\"useState\"])([]);const[isIdChecked,setIsIdChecked]=Object(react[\"useState\"])(false);const navigate=Object(react_router_dist[\"p\" /* useNavigate */])();Object(react[\"useEffect\"])(()=>{const fetchCsrfToken=async()=>{const response=await axios[\"a\" /* default */].get('/api/csrf_token/');setCsrfToken(response.data.csrfToken);};fetchCsrfToken();},[]);const handleChange=e=>{setFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formData),{},{[e.target.name]:e.target.value}));if(e.target.name==='id'){setIsIdChecked(false);// ID가 변경되면 중복 검사 상태를 초기화\n}};const handleIdCheck=async()=>{try{const response=await axios[\"a\" /* default */].post('/api/check_id/',{id:formData.id},{headers:{'Content-Type':'application/json','X-CSRFToken':csrfToken||''}});if(response.data.isAvailable){alert('사용 가능한 ID입니다.');setIsIdChecked(true);}else{alert('이미 사용 중인 ID입니다.');setIsIdChecked(false);}}catch(error){console.error('ID 중복 검사 중 오류 발생:',error);setIsIdChecked(false);}};const handleSubmit=async e=>{e.preventDefault();setErrors([]);if(!isIdChecked){setErrors(['ID 중복 검사를 완료해주세요.']);return;}try{const response=await axios[\"a\" /* default */].post('/api/signup/',formData,{headers:{'Content-Type':'application/json','X-CSRFToken':csrfToken||''}});console.log('회원가입 성공:',response.data);navigate('/login');}catch(error){if(error.response&&error.response.data){setErrors([error.response.data.message]);}else{setErrors(['회원가입 중 오류가 발생했습니다.']);}}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>navigate(-1),children:\"Back\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"ID:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"id\",value:formData.id,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:handleIdCheck,children:\"\\uC911\\uBCF5 \\uAC80\\uC0AC\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Age:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"age\",value:formData.age,onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Address:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"address\",value:formData.address,onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Detailed Address:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"detailed_address\",value:formData.detailed_address,onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Phone Number:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"phone_num\",value:formData.phone_num,onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Guard Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"guard_name\",value:formData.guard_name,onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Guard Phone Number:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"guard_phone_num\",value:formData.guard_phone_num,onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"\\uB4F1\\uB85D\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:()=>navigate('/login'),children:\"\\uB85C\\uADF8\\uC778\"})]}),errors.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{color:'red'},children:errors.map((error,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:error},index))})]});};/* harmony default export */ var components_Register = (Register);\n// CONCATENATED MODULE: ./src/components/Login.tsx\nconst Login=()=>{const[csrfToken,setCsrfToken]=Object(react[\"useState\"])(null);const[id,setId]=Object(react[\"useState\"])('');const[password,setPassword]=Object(react[\"useState\"])('');const navigate=Object(react_router_dist[\"p\" /* useNavigate */])();Object(react[\"useEffect\"])(()=>{// CSRF 토큰을 가져오는 함수\nconst fetchCsrfToken=async()=>{try{const response=await axios[\"a\" /* default */].get('/api/csrf_token/');setCsrfToken(response.data.csrfToken);}catch(error){console.error('CSRF 토큰을 가져오는 중 오류 발생:',error);}};fetchCsrfToken();},[]);const handleSubmit=async event=>{event.preventDefault();try{const response=await axios[\"a\" /* default */].post('/api/login/',{id,password},{headers:{'X-CSRFToken':csrfToken||''}});console.log('로그인 성공:',response.data);// 로그인 성공 시 메인 페이지로 이동\nwindow.location.href='/';}catch(error){console.error('로그인 중 오류 발생:',error);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>navigate(-1),children:\"Back\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"ID:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",value:id,onChange:e=>setId(e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:()=>navigate('/register'),children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]});};/* harmony default export */ var components_Login = (Login);\n// CONCATENATED MODULE: ./src/App.tsx\nconst App=()=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Main,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/register\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Register,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Login,{})})]})});};/* harmony default export */ var src_App = (App);\n// EXTERNAL MODULE: ./src/styles/index.css\nvar styles = __webpack_require__(37);\n\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[38,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/azureuser/Desktop/son/safety-detection/mysite/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/azureuser/Desktop/son/safety-detection/mysite/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/azureuser/Desktop/son/safety-detection/mysite/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/styles/index.css","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/components/Main.tsx","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/components/Register.tsx","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/components/Login.tsx","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/App.tsx","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/index.tsx"],"names":["Main","isLoggedIn","setIsLoggedIn","useState","csrfToken","setCsrfToken","userInfo","setUserInfo","statuses","setStatuses","postures","setPostures","navigate","useNavigate","useEffect","checkLoginStatus","response","axios","get","data","is_logged_in","userResponse","console","log","fetchUserStatus","fetchUserPosture","updateUserStatus","updateUserPosture","error","fetchCsrfToken","interval","setInterval","clearInterval","renderStatusChart","post","headers","renderPostureChart","handleLogout","chartDom","document","getElementById","myChart","echarts","option","title","text","tooltip","trigger","formatter","params","statusText","concat","xAxis","type","map","item","dayjs","updated_at","format","yAxis","series","status","lineStyle","color","itemStyle","borderWidth","symbolSize","symbol","setOption","postureText","axisPointer","posture","legend","grid","left","right","bottom","containLabel","name","stack","label","show","emphasis","focus","value","_jsxs","children","_jsx","style","display","justifyContent","padding","onClick","marginLeft","_Fragment","textAlign","marginTop","age","id","width","height","Register","formData","setFormData","password","address","detailed_address","phone_num","guard_name","guard_phone_num","errors","setErrors","isIdChecked","setIsIdChecked","handleChange","e","_objectSpread","target","handleIdCheck","isAvailable","alert","handleSubmit","preventDefault","message","onSubmit","onChange","length","index","Login","setId","setPassword","event","window","location","href","App","Router","Routes","Route","path","element","ReactDOM","render","React","StrictMode"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport * as echarts from 'echarts';\nimport dayjs from 'dayjs';\n\nconst Main = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [csrfToken, setCsrfToken] = useState<string | null>(null);\n  const [userInfo, setUserInfo] = useState<{ name: string; age: number } | null>(null);\n  const [statuses, setStatuses] = useState<{ status: number; updated_at: string }[]>([]);\n  const [postures, setPostures] = useState<{ posture: number; updated_at: string }[]>([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // 로그인 상태 확인\n    const checkLoginStatus = async () => {\n      try {\n        const response = await axios.get('/api/check_login/');\n        setIsLoggedIn(response.data.is_logged_in);\n        if (response.data.is_logged_in) {\n          const userResponse = await axios.get('/api/user_info/');\n          console.log('User Info:', userResponse.data); // 응답 데이터 출력\n          setUserInfo(userResponse.data);\n          fetchUserStatus();\n          fetchUserPosture();\n          updateUserStatus(); // 로그인 직후 사용자 상태 갱신\n          updateUserPosture(); // 로그인 직후 사용자 자세 갱신\n        }\n      } catch (error) {\n        console.error('로그인 상태 확인 중 오류 발생:', error);\n      }\n    };\n\n    // CSRF 토큰을 가져오는 함수\n    const fetchCsrfToken = async () => {\n      try {\n        const response = await axios.get('/api/csrf_token/');\n        setCsrfToken(response.data.csrfToken);\n      } catch (error) {\n        console.error('CSRF 토큰을 가져오는 중 오류 발생:', error);\n      }\n    };\n\n    checkLoginStatus();\n    fetchCsrfToken();\n\n    // 10분 간격으로 사용자 상태 갱신\n    const interval = setInterval(() => {\n      if (isLoggedIn) {\n        updateUserStatus();\n        updateUserPosture();\n      }\n    }, 10 * 60 * 1000);\n\n    return () => clearInterval(interval);\n  }, [isLoggedIn]);\n\n  const fetchUserStatus = async () => {\n    try {\n      const response = await axios.get('/api/get_status/');\n      setStatuses(response.data.statuses);\n      renderStatusChart(response.data.statuses);\n    } catch (error) {\n      console.error('사용자 상태를 가져오는 중 오류 발생:', error);\n    }\n  };\n\n  const updateUserStatus = async () => {\n    try {\n      const response = await axios.post('/api/update_status/', {}, {\n        headers: {\n          'X-CSRFToken': csrfToken || ''\n        }\n      });\n      fetchUserStatus();\n    } catch (error) {\n      console.error('사용자 상태를 갱신하는 중 오류 발생:', error);\n    }\n  };\n\n  const fetchUserPosture = async () => {\n    try {\n      const response = await axios.get('/api/get_posture/');\n      setPostures(response.data.postures);\n      renderPostureChart(response.data.postures);\n    } catch (error) {\n      console.error('사용자 자세를 가져오는 중 오류 발생:', error);\n    }\n  };\n\n  const updateUserPosture = async () => {\n    try {\n      const response = await axios.post('/api/update_posture/', {}, {\n        headers: {\n          'X-CSRFToken': csrfToken || ''\n        }\n      });\n      fetchUserPosture();\n    } catch (error) {\n      console.error('사용자 자세를 갱신하는 중 오류 발생:', error);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await axios.post('/api/logout/', {}, {\n        headers: {\n          'X-CSRFToken': csrfToken || ''\n        }\n      });\n      setIsLoggedIn(false);\n      navigate('/login');\n    } catch (error) {\n      console.error('로그아웃 중 오류 발생:', error);\n    }\n  };\n\n  const renderStatusChart = (data: { status: number; updated_at: string }[]) => {\n    const chartDom = document.getElementById('main');\n    if (!chartDom) return;\n    const myChart = echarts.init(chartDom);\n    const option = {\n      title: {\n        text: 'User Status Over Time'\n      },\n      tooltip: {\n        trigger: 'axis',\n        formatter: (params: any) => {\n          const statusText = params[0].data[1] === 1 ? '정상' : params[0].data[1] === 2 ? '주의' : '위험';\n          return `${params[0].data[0]}<br/>상태: ${statusText}`;\n        }\n      },\n      xAxis: {\n        type: 'category',\n        data: data.map(item => dayjs(item.updated_at).format('MM-DD HH:mm:ss'))\n      },\n      yAxis: {\n        type: 'value'\n      },\n      series: [\n        {\n          data: data.map(item => [dayjs(item.updated_at).format('MM-DD HH:mm:ss'), item.status]),\n          type: 'line',\n          lineStyle: {\n            color: '#5470C6' // 라인 색깔\n          },\n          itemStyle: {\n            color: (params: any) => {\n              if (params.data[1] === 1) return 'green'; // 점의 색깔을 초록색으로 변경\n              if (params.data[1] === 2) return 'yellow';\n              return 'red';\n            },\n            borderWidth: 2\n          },\n          symbolSize: 10,\n          symbol: 'circle' // 점의 모양을 원으로 설정\n        }\n      ]\n    };\n    myChart.setOption(option);\n  };\n\n  const renderPostureChart = (data: { posture: number; updated_at: string }[]) => {\n    const chartDom = document.getElementById('posture');\n    if (!chartDom) return;\n    const myChart = echarts.init(chartDom);\n    const postureText = ['Downstair', 'Upstair', 'Running', 'Sitdown', 'StandUp', 'Walking', 'Fall'];\n    const option = {\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n          type: 'shadow'\n        },\n        formatter: (params: any) => {\n          const postureText = ['Downstair', 'Upstair', 'Running', 'Sitdown', 'StandUp', 'Walking', 'Fall'];\n          const posture = params[0].data[1];\n          return `${params[0].data[0]}<br/>자세: ${postureText[posture]}`;\n        }\n      },\n      legend: {},\n      grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n      },\n      xAxis: {\n        type: 'category',\n        data: data.map(item => dayjs(item.updated_at).format('MM-DD HH:mm:ss'))\n      },\n      yAxis: {\n        type: 'category',\n        data: ['Posture']\n      },\n      series: [\n        {\n          name: 'Posture',\n          type: 'bar',\n          stack: 'total',\n          label: {\n            show: true\n          },\n          emphasis: {\n            focus: 'series'\n          },\n          data: data.map(item => ({\n            value: 1,\n            itemStyle: {\n              color: item.posture === 6 ? 'red' : item.posture === 5 ? 'blue' : item.posture === 4 ? 'green' : item.posture === 3 ? 'yellow' : item.posture === 2 ? 'orange' : item.posture === 1 ? 'purple' : 'gray'\n            },\n            name: postureText[item.posture]\n          }))\n        }\n      ]\n    };\n    myChart.setOption(option);\n  };\n\n  return (\n    <div>\n      <div style={{ display: 'flex', justifyContent: 'flex-end', padding: '10px' }}>\n        {isLoggedIn ? (\n          <button onClick={handleLogout} style={{ marginLeft: '10px' }}>Logout</button>\n        ) : (\n          <>\n            <button onClick={() => navigate('/login')} style={{ marginLeft: '10px' }}>Login</button>\n            <button onClick={() => navigate('/register')} style={{ marginLeft: '10px' }}>Register</button>\n          </>\n        )}\n      </div>\n      <div style={{ textAlign: 'center', marginTop: '20px' }}>\n        {isLoggedIn && userInfo ? (\n          <h1>{userInfo.name}님 ({userInfo.age}세), 현재 웹에 접속하셨습니다!</h1>\n        ) : (\n          <h1>Welcome to the Main Page</h1>\n        )}\n      </div>\n      <div id=\"main\" style={{ width: '100%', height: '400px' }}></div>\n      <div id=\"posture\" style={{ width: '100%', height: '400px', marginTop: '20px' }}></div>\n    </div>\n  );\n};\n\nexport default Main;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Register = () => {\n  const [csrfToken, setCsrfToken] = useState<string | null>(null);\n  const [formData, setFormData] = useState({\n    id: '',\n    password: '',\n    name: '',\n    age: '',\n    address: '',\n    detailed_address: '',\n    phone_num: '',\n    guard_name: '',\n    guard_phone_num: ''\n  });\n  const [errors, setErrors] = useState<string[]>([]);\n  const [isIdChecked, setIsIdChecked] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchCsrfToken = async () => {\n      const response = await axios.get('/api/csrf_token/');\n      setCsrfToken(response.data.csrfToken);\n    };\n    fetchCsrfToken();\n  }, []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    if (e.target.name === 'id') {\n      setIsIdChecked(false); // ID가 변경되면 중복 검사 상태를 초기화\n    }\n  };\n\n  const handleIdCheck = async () => {\n    try {\n      const response = await axios.post('/api/check_id/', { id: formData.id }, {\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrfToken || ''\n        }\n      });\n      if (response.data.isAvailable) {\n        alert('사용 가능한 ID입니다.');\n        setIsIdChecked(true);\n      } else {\n        alert('이미 사용 중인 ID입니다.');\n        setIsIdChecked(false);\n      }\n    } catch (error) {\n      console.error('ID 중복 검사 중 오류 발생:', error);\n      setIsIdChecked(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setErrors([]);\n    if (!isIdChecked) {\n      setErrors(['ID 중복 검사를 완료해주세요.']);\n      return;\n    }\n    try {\n      const response = await axios.post('/api/signup/', formData, {\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrfToken || ''\n        }\n      });\n      console.log('회원가입 성공:', response.data);\n      navigate('/login');\n    } catch (error: any) {\n      if (error.response && error.response.data) {\n        setErrors([error.response.data.message]);\n      } else {\n        setErrors(['회원가입 중 오류가 발생했습니다.']);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={() => navigate(-1)}>Back</button> {/* 뒤로가기 버튼 */}\n      <h1>회원가입</h1>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>ID:</label>\n          <input type=\"text\" name=\"id\" value={formData.id} onChange={handleChange} />\n          <button type=\"button\" onClick={handleIdCheck}>중복 검사</button>\n        </div>\n        <div>\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} />\n        </div>\n        <div>\n          <label>Name:</label>\n          <input type=\"text\" name=\"name\" value={formData.name} onChange={handleChange} />\n        </div>\n        <div>\n          <label>Age:</label>\n          <input type=\"text\" name=\"age\" value={formData.age} onChange={handleChange} />\n        </div>\n        <div>\n          <label>Address:</label>\n          <input type=\"text\" name=\"address\" value={formData.address} onChange={handleChange} />\n        </div>\n        <div>\n          <label>Detailed Address:</label>\n          <input type=\"text\" name=\"detailed_address\" value={formData.detailed_address} onChange={handleChange} />\n        </div>\n        <div>\n          <label>Phone Number:</label>\n          <input type=\"text\" name=\"phone_num\" value={formData.phone_num} onChange={handleChange} />\n        </div>\n        <div>\n          <label>Guard Name:</label>\n          <input type=\"text\" name=\"guard_name\" value={formData.guard_name} onChange={handleChange} />\n        </div>\n        <div>\n          <label>Guard Phone Number:</label>\n          <input type=\"text\" name=\"guard_phone_num\" value={formData.guard_phone_num} onChange={handleChange} />\n        </div>\n        <button type=\"submit\">등록</button>\n        <button type=\"button\" onClick={() => navigate('/login')}>로그인</button>\n      </form>\n      {errors.length > 0 && (\n        <div style={{ color: 'red' }}>\n          {errors.map((error, index) => (\n            <p key={index}>{error}</p>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Register;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Login = () => {\n  const [csrfToken, setCsrfToken] = useState<string | null>(null);\n  const [id, setId] = useState('');\n  const [password, setPassword] = useState('');\n\n  const navigate = useNavigate();\n  useEffect(() => {\n    // CSRF 토큰을 가져오는 함수\n    const fetchCsrfToken = async () => {\n      try {\n        const response = await axios.get('/api/csrf_token/');\n        setCsrfToken(response.data.csrfToken);\n      } catch (error) {\n        console.error('CSRF 토큰을 가져오는 중 오류 발생:', error);\n      }\n    };\n\n    fetchCsrfToken();\n  }, []);\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    try {\n      const response = await axios.post('/api/login/', {\n        id,\n        password\n      }, {\n        headers: {\n          'X-CSRFToken': csrfToken || ''\n        }\n      });\n      console.log('로그인 성공:', response.data);\n      // 로그인 성공 시 메인 페이지로 이동\n      window.location.href = '/';\n    } catch (error) {\n      console.error('로그인 중 오류 발생:', error);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={() => navigate(-1)}>Back</button> {/* 뒤로가기 버튼 */}\n      <h1>Login</h1>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>ID:</label>\n          <input type=\"text\" value={id} onChange={(e) => setId(e.target.value)} />\n        </div>\n        <div>\n          <label>Password:</label>\n          <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        </div>\n        <button type=\"submit\">로그인</button>\n        <button type=\"button\" onClick={() => navigate('/register')}>회원가입</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;","import React from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport Main from './components/Main';\nimport Register from './components/Register';\nimport Login from './components/Login';\n\nconst App = () => {\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<Main />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route path=\"/login\" element={<Login />} />\n      </Routes>\n    </Router>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]}}