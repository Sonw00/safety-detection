{"code":"(this[\"webpackJsonpmy-react-app\"]=this[\"webpackJsonpmy-react-app\"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){\"use strict\";n.r(t);var a=n(0),c=n.n(a),s=n(10),r=n.n(s),o=n(8),i=n(3),j=n(29),d=n(4);var l=()=>{const[e,t]=Object(a.useState)(!1),[n,c]=Object(a.useState)(null),s=Object(i.p)();Object(a.useEffect)((()=>{(async()=>{try{const e=await j.a.get(\"/api/check_login/\");t(e.data.is_logged_in)}catch(e){console.error(\"\\ub85c\\uadf8\\uc778 \\uc0c1\\ud0dc \\ud655\\uc778 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}})(),(async()=>{try{const e=await j.a.get(\"/api/csrf_token/\");c(e.data.csrfToken)}catch(e){console.error(\"CSRF \\ud1a0\\ud070\\uc744 \\uac00\\uc838\\uc624\\ub294 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}})()}),[]);return Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"h1\",{children:\"Welcome to the Main Page\"}),e?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(\"button\",{onClick:async()=>{try{await j.a.post(\"/api/logout/\",{},{headers:{\"X-CSRFToken\":n||\"\"}}),t(!1),s(\"/login\")}catch(e){console.error(\"\\ub85c\\uadf8\\uc544\\uc6c3 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}},children:\"Logout\"})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(\"button\",{onClick:()=>s(\"/login\"),children:\"Login\"}),Object(d.jsx)(\"button\",{onClick:()=>s(\"/register\"),children:\"Register\"})]})]})},b=n(6);var h=()=>{const[e,t]=Object(a.useState)({id:\"\",password:\"\",name:\"\",age:\"\",address:\"\",detailed_address:\"\",phone_num:\"\",guard_name:\"\",guard_phone_num:\"\"}),[n,c]=Object(a.useState)(\"\"),s=Object(i.p)();Object(a.useEffect)((()=>{(async()=>{const e=await fetch(\"/api/csrf_token/\"),t=await e.json();c(t.csrfToken)})()}),[]);const r=n=>{t(Object(b.a)(Object(b.a)({},e),{},{[n.target.name]:n.target.value}))};return Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"button\",{onClick:()=>s(-1),children:\"Back\"}),\" \",Object(d.jsx)(\"h1\",{children:\"Register\"}),Object(d.jsxs)(\"form\",{onSubmit:async t=>{t.preventDefault();const a=await fetch(\"/api/signup/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":n},body:JSON.stringify(e)}),c=await a.json();a.ok?(alert(c.message),s(\"/login\")):alert(c.message)},children:[Object(d.jsx)(\"input\",{type:\"text\",name:\"id\",placeholder:\"ID\",onChange:r,required:!0}),Object(d.jsx)(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:r,required:!0}),Object(d.jsx)(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",onChange:r,required:!0}),Object(d.jsx)(\"input\",{type:\"number\",name:\"age\",placeholder:\"Age\",onChange:r,required:!0}),Object(d.jsx)(\"input\",{type:\"text\",name:\"address\",placeholder:\"Address\",onChange:r,required:!0}),Object(d.jsx)(\"input\",{type:\"text\",name:\"detailed_address\",placeholder:\"Detailed Address\",onChange:r}),Object(d.jsx)(\"input\",{type:\"text\",name:\"phone_num\",placeholder:\"Phone Number\",onChange:r,required:!0}),Object(d.jsx)(\"input\",{type:\"text\",name:\"guard_name\",placeholder:\"Guard Name\",onChange:r}),Object(d.jsx)(\"input\",{type:\"text\",name:\"guard_phone_num\",placeholder:\"Guard Phone Number\",onChange:r}),Object(d.jsx)(\"button\",{type:\"submit\",children:\"Register\"})]})]})};var p=()=>{const[e,t]=Object(a.useState)(null),[n,c]=Object(a.useState)(\"\"),[s,r]=Object(a.useState)(\"\"),o=Object(i.p)();Object(a.useEffect)((()=>{(async()=>{try{const e=await j.a.get(\"/api/csrf_token/\");t(e.data.csrfToken)}catch(e){console.error(\"CSRF \\ud1a0\\ud070\\uc744 \\uac00\\uc838\\uc624\\ub294 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",e)}})()}),[]);return Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"button\",{onClick:()=>o(-1),children:\"Back\"}),\" \",Object(d.jsx)(\"h1\",{children:\"Login\"}),Object(d.jsxs)(\"form\",{onSubmit:async t=>{t.preventDefault();try{const t=await j.a.post(\"/api/login/\",{id:n,password:s},{headers:{\"X-CSRFToken\":e||\"\"}});console.log(\"\\ub85c\\uadf8\\uc778 \\uc131\\uacf5:\",t.data),window.location.href=\"/\"}catch(a){console.error(\"\\ub85c\\uadf8\\uc778 \\uc911 \\uc624\\ub958 \\ubc1c\\uc0dd:\",a)}},children:[Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"label\",{children:\"ID:\"}),Object(d.jsx)(\"input\",{type:\"text\",value:n,onChange:e=>c(e.target.value)})]}),Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"label\",{children:\"Password:\"}),Object(d.jsx)(\"input\",{type:\"password\",value:s,onChange:e=>r(e.target.value)})]}),Object(d.jsx)(\"button\",{type:\"submit\",children:\"Login\"})]})]})};var u=()=>Object(d.jsx)(o.a,{children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:\"/\",element:Object(d.jsx)(l,{})}),Object(d.jsx)(i.a,{path:\"/register\",element:Object(d.jsx)(h,{})}),Object(d.jsx)(i.a,{path:\"/login\",element:Object(d.jsx)(p,{})})]})});n(27);r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(u,{})}),document.getElementById(\"root\"))}},[[28,1,2]]]);","name":"static/js/main.58a8590f.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","dist","react_router_dist","axios","jsx_runtime","components_Main","isLoggedIn","setIsLoggedIn","Object","csrfToken","setCsrfToken","navigate","async","response","get","data","is_logged_in","error","console","checkLoginStatus","fetchCsrfToken","children","onClick","post","headers","objectSpread2","components_Register","formData","setFormData","id","password","name","age","address","detailed_address","phone_num","guard_name","guard_phone_num","fetch","json","handleChange","e","target","value","onSubmit","preventDefault","method","body","JSON","stringify","ok","alert","message","type","placeholder","onChange","required","components_Login","setId","setPassword","event","log","window","location","href","src_App","path","element","a","render","StrictMode","document","getElementById"],"sources":["static/js/main.58a8590f.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpmy-react-app\"] = this[\"webpackJsonpmy-react-app\"] || []).push([[0],{\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 28:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(10);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/axios/lib/axios.js + 48 modules\nvar axios = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/components/Main.tsx\nconst Main=()=>{const[isLoggedIn,setIsLoggedIn]=Object(react[\"useState\"])(false);const[csrfToken,setCsrfToken]=Object(react[\"useState\"])(null);const navigate=Object(react_router_dist[\"p\" /* useNavigate */])();Object(react[\"useEffect\"])(()=>{// 로그인 상태 확인\nconst checkLoginStatus=async()=>{try{const response=await axios[\"a\" /* default */].get('/api/check_login/');setIsLoggedIn(response.data.is_logged_in);}catch(error){console.error('로그인 상태 확인 중 오류 발생:',error);}};// CSRF 토큰을 가져오는 함수\nconst fetchCsrfToken=async()=>{try{const response=await axios[\"a\" /* default */].get('/api/csrf_token/');setCsrfToken(response.data.csrfToken);}catch(error){console.error('CSRF 토큰을 가져오는 중 오류 발생:',error);}};checkLoginStatus();fetchCsrfToken();},[]);const handleLogout=async()=>{try{await axios[\"a\" /* default */].post('/api/logout/',{},{headers:{'X-CSRFToken':csrfToken||''}});setIsLoggedIn(false);navigate('/login');}catch(error){console.error('로그아웃 중 오류 발생:',error);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Welcome to the Main Page\"}),isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleLogout,children:\"Logout\"})}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>navigate('/login'),children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>navigate('/register'),children:\"Register\"})]})]});};/* harmony default export */ var components_Main = (Main);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/components/Register.tsx\nconst Register=()=>{const[formData,setFormData]=Object(react[\"useState\"])({id:'',password:'',name:'',age:'',address:'',detailed_address:'',phone_num:'',guard_name:'',guard_phone_num:''});const[csrfToken,setCsrfToken]=Object(react[\"useState\"])('');const navigate=Object(react_router_dist[\"p\" /* useNavigate */])();Object(react[\"useEffect\"])(()=>{const fetchCsrfToken=async()=>{const response=await fetch('/api/csrf_token/');const data=await response.json();setCsrfToken(data.csrfToken);};fetchCsrfToken();},[]);const handleChange=e=>{setFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();const response=await fetch('/api/signup/',{method:'POST',headers:{'Content-Type':'application/json','X-CSRFToken':csrfToken},body:JSON.stringify(formData)});const data=await response.json();if(response.ok){alert(data.message);navigate('/login');// 회원가입이 완료되면 로그인 페이지로 이동\n}else{alert(data.message);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>navigate(-1),children:\"Back\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"id\",placeholder:\"ID\",onChange:handleChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:handleChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",onChange:handleChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",name:\"age\",placeholder:\"Age\",onChange:handleChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"address\",placeholder:\"Address\",onChange:handleChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"detailed_address\",placeholder:\"Detailed Address\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"phone_num\",placeholder:\"Phone Number\",onChange:handleChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"guard_name\",placeholder:\"Guard Name\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"guard_phone_num\",placeholder:\"Guard Phone Number\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Register\"})]})]});};/* harmony default export */ var components_Register = (Register);\n// CONCATENATED MODULE: ./src/components/Login.tsx\nconst Login=()=>{const[csrfToken,setCsrfToken]=Object(react[\"useState\"])(null);const[id,setId]=Object(react[\"useState\"])('');const[password,setPassword]=Object(react[\"useState\"])('');const navigate=Object(react_router_dist[\"p\" /* useNavigate */])();Object(react[\"useEffect\"])(()=>{// CSRF 토큰을 가져오는 함수\nconst fetchCsrfToken=async()=>{try{const response=await axios[\"a\" /* default */].get('/api/csrf_token/');setCsrfToken(response.data.csrfToken);}catch(error){console.error('CSRF 토큰을 가져오는 중 오류 발생:',error);}};fetchCsrfToken();},[]);const handleSubmit=async event=>{event.preventDefault();try{const response=await axios[\"a\" /* default */].post('/api/login/',{id,password},{headers:{'X-CSRFToken':csrfToken||''}});console.log('로그인 성공:',response.data);// 로그인 성공 시 메인 페이지로 이동\nwindow.location.href='/';}catch(error){console.error('로그인 중 오류 발생:',error);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>navigate(-1),children:\"Back\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"ID:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",value:id,onChange:e=>setId(e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Login\"})]})]});};/* harmony default export */ var components_Login = (Login);\n// CONCATENATED MODULE: ./src/App.tsx\nconst App=()=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Main,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/register\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Register,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Login,{})})]})});};/* harmony default export */ var src_App = (App);\n// EXTERNAL MODULE: ./src/styles/index.css\nvar styles = __webpack_require__(27);\n\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[28,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/azureuser/Desktop/son/safety-detection/mysite/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/azureuser/Desktop/son/safety-detection/mysite/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/azureuser/Desktop/son/safety-detection/mysite/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/styles/index.css","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/components/Main.tsx","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/components/Register.tsx","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/components/Login.tsx","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/App.tsx","/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/index.tsx"],"names":["Main","isLoggedIn","setIsLoggedIn","useState","csrfToken","setCsrfToken","navigate","useNavigate","useEffect","checkLoginStatus","response","axios","get","data","is_logged_in","error","console","fetchCsrfToken","handleLogout","post","headers","_jsxs","children","_jsx","_Fragment","onClick","Register","formData","setFormData","id","password","name","age","address","detailed_address","phone_num","guard_name","guard_phone_num","fetch","json","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","method","body","JSON","stringify","ok","alert","message","onSubmit","type","placeholder","onChange","required","Login","setId","setPassword","event","log","window","location","href","App","Router","Routes","Route","path","element","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst Main = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [csrfToken, setCsrfToken] = useState<string | null>(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // 로그인 상태 확인\n    const checkLoginStatus = async () => {\n      try {\n        const response = await axios.get('/api/check_login/');\n        setIsLoggedIn(response.data.is_logged_in);\n      } catch (error) {\n        console.error('로그인 상태 확인 중 오류 발생:', error);\n      }\n    };\n\n    // CSRF 토큰을 가져오는 함수\n    const fetchCsrfToken = async () => {\n      try {\n        const response = await axios.get('/api/csrf_token/');\n        setCsrfToken(response.data.csrfToken);\n      } catch (error) {\n        console.error('CSRF 토큰을 가져오는 중 오류 발생:', error);\n      }\n    };\n\n    checkLoginStatus();\n    fetchCsrfToken();\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await axios.post('/api/logout/', {}, {\n        headers: {\n          'X-CSRFToken': csrfToken || ''\n        }\n      });\n      setIsLoggedIn(false);\n      navigate('/login');\n    } catch (error) {\n      console.error('로그아웃 중 오류 발생:', error);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Welcome to the Main Page</h1>\n      {isLoggedIn ? (\n        <>\n          <button onClick={handleLogout}>Logout</button>\n        </>\n      ) : (\n        <>\n          <button onClick={() => navigate('/login')}>Login</button>\n          <button onClick={() => navigate('/register')}>Register</button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Main;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    id: '',\n    password: '',\n    name: '',\n    age: '',\n    address: '',\n    detailed_address: '',\n    phone_num: '',\n    guard_name: '',\n    guard_phone_num: ''\n  });\n  const [csrfToken, setCsrfToken] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchCsrfToken = async () => {\n      const response = await fetch('/api/csrf_token/');\n      const data = await response.json();\n      setCsrfToken(data.csrfToken);\n    };\n    fetchCsrfToken();\n  }, []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const response = await fetch('/api/signup/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      body: JSON.stringify(formData)\n    });\n    const data = await response.json();\n    if (response.ok) {\n      alert(data.message);\n      navigate('/login'); // 회원가입이 완료되면 로그인 페이지로 이동\n    } else {\n      alert(data.message);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={() => navigate(-1)}>Back</button> {/* 뒤로가기 버튼 */}\n      <h1>Register</h1>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"id\" placeholder=\"ID\" onChange={handleChange} required />\n        <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={handleChange} required />\n        <input type=\"text\" name=\"name\" placeholder=\"Name\" onChange={handleChange} required />\n        <input type=\"number\" name=\"age\" placeholder=\"Age\" onChange={handleChange} required />\n        <input type=\"text\" name=\"address\" placeholder=\"Address\" onChange={handleChange} required />\n        <input type=\"text\" name=\"detailed_address\" placeholder=\"Detailed Address\" onChange={handleChange} />\n        <input type=\"text\" name=\"phone_num\" placeholder=\"Phone Number\" onChange={handleChange} required />\n        <input type=\"text\" name=\"guard_name\" placeholder=\"Guard Name\" onChange={handleChange} />\n        <input type=\"text\" name=\"guard_phone_num\" placeholder=\"Guard Phone Number\" onChange={handleChange} />\n        <button type=\"submit\">Register</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Login = () => {\n  const [csrfToken, setCsrfToken] = useState<string | null>(null);\n  const [id, setId] = useState('');\n  const [password, setPassword] = useState('');\n\n  const navigate = useNavigate();\n  useEffect(() => {\n    // CSRF 토큰을 가져오는 함수\n    const fetchCsrfToken = async () => {\n      try {\n        const response = await axios.get('/api/csrf_token/');\n        setCsrfToken(response.data.csrfToken);\n      } catch (error) {\n        console.error('CSRF 토큰을 가져오는 중 오류 발생:', error);\n      }\n    };\n\n    fetchCsrfToken();\n  }, []);\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    try {\n      const response = await axios.post('/api/login/', {\n        id,\n        password\n      }, {\n        headers: {\n          'X-CSRFToken': csrfToken || ''\n        }\n      });\n      console.log('로그인 성공:', response.data);\n      // 로그인 성공 시 메인 페이지로 이동\n      window.location.href = '/';\n    } catch (error) {\n      console.error('로그인 중 오류 발생:', error);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={() => navigate(-1)}>Back</button> {/* 뒤로가기 버튼 */}\n      <h1>Login</h1>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>ID:</label>\n          <input type=\"text\" value={id} onChange={(e) => setId(e.target.value)} />\n        </div>\n        <div>\n          <label>Password:</label>\n          <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        </div>\n        <button type=\"submit\">Login</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;","import React from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport Main from './components/Main';\nimport Register from './components/Register';\nimport Login from './components/Login';\n\nconst App = () => {\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<Main />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route path=\"/login\" element={<Login />} />\n      </Routes>\n    </Router>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]}}