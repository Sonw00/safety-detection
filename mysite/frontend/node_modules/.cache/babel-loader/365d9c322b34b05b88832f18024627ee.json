{"ast":null,"code":"import _objectSpread from\"/home/azureuser/Desktop/son/safety-detection/mysite/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({id:'',password:'',name:'',age:'',address:'',detailed_address:'',phone_num:'',guard_name:'',guard_phone_num:''});const getCsrfToken=()=>{var _document$querySelect;const csrfToken=(_document$querySelect=document.querySelector('meta[name=\"csrf-token\"]'))===null||_document$querySelect===void 0?void 0:_document$querySelect.getAttribute('content');return csrfToken||'';};const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();const csrfToken=getCsrfToken();const response=await fetch('/api/signup/',{method:'POST',headers:{'Content-Type':'application/json','X-CSRFToken':csrfToken},body:JSON.stringify(formData)});const data=await response.json();if(response.ok){alert(data.message);}else{alert(data.message);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",placeholder:\"ID\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",placeholder:\"Age\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",placeholder:\"Address\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"detailed_address\",placeholder:\"Detailed Address\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone_num\",placeholder:\"Phone Number\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"guard_name\",placeholder:\"Guard Name\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"guard_phone_num\",placeholder:\"Guard Phone Number\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]});};export default Register;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","id","password","name","age","address","detailed_address","phone_num","guard_name","guard_phone_num","getCsrfToken","_document$querySelect","csrfToken","document","querySelector","getAttribute","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","alert","message","onSubmit","children","type","placeholder","onChange","required"],"sources":["/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/components/Register.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    id: '',\n    password: '',\n    name: '',\n    age: '',\n    address: '',\n    detailed_address: '',\n    phone_num: '',\n    guard_name: '',\n    guard_phone_num: ''\n  });\n\n  const getCsrfToken = () => {\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n    return csrfToken || '';\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const csrfToken = getCsrfToken();\n    const response = await fetch('/api/signup/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      body: JSON.stringify(formData)\n    });\n    const data = await response.json();\n    if (response.ok) {\n      alert(data.message);\n    } else {\n      alert(data.message);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" name=\"id\" placeholder=\"ID\" onChange={handleChange} required />\n      <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={handleChange} required />\n      <input type=\"text\" name=\"name\" placeholder=\"Name\" onChange={handleChange} required />\n      <input type=\"number\" name=\"age\" placeholder=\"Age\" onChange={handleChange} required />\n      <input type=\"text\" name=\"address\" placeholder=\"Address\" onChange={handleChange} required />\n      <input type=\"text\" name=\"detailed_address\" placeholder=\"Detailed Address\" onChange={handleChange} />\n      <input type=\"text\" name=\"phone_num\" placeholder=\"Phone Number\" onChange={handleChange} required />\n      <input type=\"text\" name=\"guard_name\" placeholder=\"Guard Name\" onChange={handleChange} />\n      <input type=\"text\" name=\"guard_phone_num\" placeholder=\"Guard Phone Number\" onChange={handleChange} />\n      <button type=\"submit\">Register</button>\n    </form>\n  );\n};\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}