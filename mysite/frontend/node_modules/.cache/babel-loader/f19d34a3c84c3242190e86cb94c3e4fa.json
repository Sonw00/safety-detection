{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Main=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const navigate=useNavigate();useEffect(()=>{// Check if user is logged in\nconst checkLoginStatus=async()=>{const response=await fetch('/api/check_login/');const data=await response.json();setIsLoggedIn(data.is_logged_in);};checkLoginStatus();},[]);const handleLogout=async()=>{const response=await fetch('/api/logout/',{method:'POST',headers:{'Content-Type':'application/json'}});const data=await response.json();if(response.ok){alert(data.message);setIsLoggedIn(false);navigate('/login');}else{alert(data.message);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to the Main Page\"}),isLoggedIn?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/login'),children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/register'),children:\"Register\"})]})]});};export default Main;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Main","isLoggedIn","setIsLoggedIn","navigate","checkLoginStatus","response","fetch","data","json","is_logged_in","handleLogout","method","headers","ok","alert","message","children","onClick"],"sources":["/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/components/Main.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst Main = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Check if user is logged in\n    const checkLoginStatus = async () => {\n      const response = await fetch('/api/check_login/');\n      const data = await response.json();\n      setIsLoggedIn(data.is_logged_in);\n    };\n    checkLoginStatus();\n  }, []);\n\n  const handleLogout = async () => {\n    const response = await fetch('/api/logout/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await response.json();\n    if (response.ok) {\n      alert(data.message);\n      setIsLoggedIn(false);\n      navigate('/login');\n    } else {\n      alert(data.message);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Welcome to the Main Page</h1>\n      {isLoggedIn ? (\n        <>\n          <button onClick={handleLogout}>Logout</button>\n        </>\n      ) : (\n        <>\n          <button onClick={() => navigate('/login')}>Login</button>\n          <button onClick={() => navigate('/register')}>Register</button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Main;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAY,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAY,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,mBAAmB,CAAC,CACjD,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCN,aAAa,CAACK,IAAI,CAACE,YAAY,CAAC,CAClC,CAAC,CACDL,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,cAAc,CAAE,CAC3CK,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,KAAM,CAAAL,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClC,GAAIH,QAAQ,CAACQ,EAAE,CAAE,CACfC,KAAK,CAACP,IAAI,CAACQ,OAAO,CAAC,CACnBb,aAAa,CAAC,KAAK,CAAC,CACpBC,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,CACLW,KAAK,CAACP,IAAI,CAACQ,OAAO,CAAC,CACrB,CACF,CAAC,CAED,mBACEhB,KAAA,QAAAiB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,0BAAwB,CAAI,CAAC,CAChCf,UAAU,cACTN,IAAA,CAAAE,SAAA,EAAAmB,QAAA,cACErB,IAAA,WAAQsB,OAAO,CAAEP,YAAa,CAAAM,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC9C,CAAC,cAEHjB,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eACErB,IAAA,WAAQsB,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,QAAQ,CAAE,CAAAa,QAAA,CAAC,OAAK,CAAQ,CAAC,cACzDrB,IAAA,WAAQsB,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAAC,WAAW,CAAE,CAAAa,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC/D,CACH,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module"}