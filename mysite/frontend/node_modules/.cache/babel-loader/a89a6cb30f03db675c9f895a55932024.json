{"ast":null,"code":"import _objectSpread from\"/home/azureuser/Desktop/son/safety-detection/mysite/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({id:'',password:'',name:'',age:'',address:'',detailed_address:'',phone_num:'',guard_name:'',guard_phone_num:''});const[csrfToken,setCsrfToken]=useState('');useEffect(()=>{const fetchCsrfToken=async()=>{const response=await fetch('/api/csrf_token/');const data=await response.json();setCsrfToken(data.csrfToken);};fetchCsrfToken();},[]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();const response=await fetch('/api/signup/',{method:'POST',headers:{'Content-Type':'application/json','X-CSRFToken':csrfToken},body:JSON.stringify(formData)});const data=await response.json();if(response.ok){alert(data.message);}else{alert(data.message);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",placeholder:\"ID\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",placeholder:\"Age\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",placeholder:\"Address\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"detailed_address\",placeholder:\"Detailed Address\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone_num\",placeholder:\"Phone Number\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"guard_name\",placeholder:\"Guard Name\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"guard_phone_num\",placeholder:\"Guard Phone Number\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","id","password","name","age","address","detailed_address","phone_num","guard_name","guard_phone_num","csrfToken","setCsrfToken","fetchCsrfToken","response","fetch","data","json","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","method","headers","body","JSON","stringify","ok","alert","message","onSubmit","children","type","placeholder","onChange","required"],"sources":["/home/azureuser/Desktop/son/safety-detection/mysite/frontend/src/components/Register.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    id: '',\n    password: '',\n    name: '',\n    age: '',\n    address: '',\n    detailed_address: '',\n    phone_num: '',\n    guard_name: '',\n    guard_phone_num: ''\n  });\n  const [csrfToken, setCsrfToken] = useState('');\n\n  useEffect(() => {\n    const fetchCsrfToken = async () => {\n      const response = await fetch('/api/csrf_token/');\n      const data = await response.json();\n      setCsrfToken(data.csrfToken);\n    };\n    fetchCsrfToken();\n  }, []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const response = await fetch('/api/signup/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      body: JSON.stringify(formData)\n    });\n    const data = await response.json();\n    if (response.ok) {\n      alert(data.message);\n    } else {\n      alert(data.message);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" name=\"id\" placeholder=\"ID\" onChange={handleChange} required />\n      <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={handleChange} required />\n      <input type=\"text\" name=\"name\" placeholder=\"Name\" onChange={handleChange} required />\n      <input type=\"number\" name=\"age\" placeholder=\"Age\" onChange={handleChange} required />\n      <input type=\"text\" name=\"address\" placeholder=\"Address\" onChange={handleChange} required />\n      <input type=\"text\" name=\"detailed_address\" placeholder=\"Detailed Address\" onChange={handleChange} />\n      <input type=\"text\" name=\"phone_num\" placeholder=\"Phone Number\" onChange={handleChange} required />\n      <input type=\"text\" name=\"guard_name\" placeholder=\"Guard Name\" onChange={handleChange} />\n      <input type=\"text\" name=\"guard_phone_num\" placeholder=\"Guard Phone Number\" onChange={handleChange} />\n      <button type=\"submit\">Register</button>\n    </form>\n  );\n};\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}